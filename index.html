<!DOCTYPE html>
<html lang="bg">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ü—Ä–æ—Å–ª–µ–¥—è–≤–∞–Ω–µ –Ω–∞ –∫–Ω–∏–≥–∏</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>–ú–æ–∏—Ç–µ –∫–Ω–∏–≥–∏</h1>
            <button id="theme-toggle" class="theme-toggle" title="–°–º–µ–Ω–∏ —Ç–µ–º–∞—Ç–∞">üåô</button>
        </header>

        <!-- Tab Navigation -->
        <div class="tab-navigation">
            <button class="tab-btn active" data-tab="add-book"><span class="add-icon">+</span> –î–æ–±–∞–≤–∏ –∫–Ω–∏–≥–∞</button>
            <button class="tab-btn" data-tab="book-list"><img src="images/ic_menu.svg" alt="" class="tab-icon"> –°–ø–∏—Å—ä–∫ —Å –∫–Ω–∏–≥–∏</button>
            <button class="tab-btn" data-tab="completed-books">‚úÖ –ó–∞–≤—ä—Ä—à–µ–Ω–∏ –∫–Ω–∏–≥–∏</button>
            <button class="tab-btn" data-tab="statistics">üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</button>
            <button class="tab-btn" data-tab="activity">üîî –ê–∫—Ç–∏–≤–Ω–æ—Å—Ç</button>
            <button class="tab-btn" data-tab="achievements">üèÜ –ü–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
        </div>

        <!-- Form for adding a new book -->
        <div class="tab-content add-book-section active" id="add-book">
            <h2>–î–æ–±–∞–≤–∏ –Ω–æ–≤–∞ –∫–Ω–∏–≥–∞</h2>
            <form id="add-book-form">
                <div class="form-group">
                    <label for="book-name">–ò–º–µ –Ω–∞ –∫–Ω–∏–≥–∞:</label>
                    <input type="text" id="book-name" list="book-names-list" required autocomplete="off">
                    <datalist id="book-names-list"></datalist>
                </div>

                <div class="form-group">
                    <label for="book-author">–ê–≤—Ç–æ—Ä:</label>
                    <input type="text" id="book-author" list="authors-list" required autocomplete="off">
                    <datalist id="authors-list"></datalist>
                </div>

                <div class="form-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="book-category" value="mama" checked>
                            –£–≥–æ–≤–æ—Ä–∫–∞ —Å –ú–∞–º–∞
                        </label>
                        <label>
                            <input type="radio" name="book-category" value="yavor">
                            –£–≥–æ–≤–æ—Ä–∫–∞ —Å –Ø–≤–æ—Ä
                        </label>
                        <label>
                            <input type="radio" name="book-category" value="choice">
                            –ü–æ –∂–µ–ª–∞–Ω–∏–µ
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>–¢–∏–ø:</label>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="book-type" value="paper" checked>
                            –•–∞—Ä—Ç–∏–µ–Ω–∞ –∫–Ω–∏–≥–∞
                        </label>
                        <label>
                            <input type="radio" name="book-type" value="audio">
                            –ê—É–¥–∏–æ –∫–Ω–∏–≥–∞
                        </label>
                    </div>
                </div>

                <div id="paper-fields" class="type-fields">
                    <div class="form-group">
                        <label for="total-pages">–ë—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–∏:</label>
                        <input type="number" id="total-pages" min="1">
                    </div>
                </div>

                <div id="audio-fields" class="type-fields" style="display: none;">
                    <div class="form-group">
                        <label>–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç:</label>
                        <div class="duration-group">
                            <input type="number" id="total-hours" min="0" placeholder="–ß–∞—Å–æ–≤–µ" value="0">
                            <span>:</span>
                            <input type="number" id="total-minutes" min="0" max="59" placeholder="–ú–∏–Ω—É—Ç–∏" value="0">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="book-cover">URL –Ω–∞ –æ–±–ª–æ–∂–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ):</label>
                    <input type="url" id="book-cover" placeholder="https://example.com/image.jpg">
                    <div id="cover-preview" class="cover-preview"></div>
                </div>

                <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏ –∫–Ω–∏–≥–∞</button>
            </form>
        </div>

        <!-- Books list -->
        <div class="tab-content books-section" id="book-list" style="display: none;">
            <h2>–°–ø–∏—Å—ä–∫ —Å –∫–Ω–∏–≥–∏</h2>
            
            <!-- Category filter -->
            <div class="filter-container">
                <button class="filter-btn active" data-category="mama">–£–≥–æ–≤–æ—Ä–∫–∞ —Å –ú–∞–º–∞</button>
                <button class="filter-btn" data-category="yavor">–£–≥–æ–≤–æ—Ä–∫–∞ —Å –Ø–≤–æ—Ä</button>
                <button class="filter-btn" data-category="choice">–ü–æ –∂–µ–ª–∞–Ω–∏–µ</button>
            </div>
            
            <!-- Search bar -->
            <div class="search-container">
                <img src="images/ic_search.svg" alt="Search" class="search-icon">
                <input type="text" id="search-input" class="search-input" placeholder="–¢—ä—Ä—Å–∏ –ø–æ –∏–º–µ –Ω–∞ –∫–Ω–∏–≥–∞ –∏–ª–∏ –∞–≤—Ç–æ—Ä...">
            </div>
            
            <div id="books-list" class="books-list"></div>
            <div id="empty-state" class="empty-state">
                –í—Å–µ –æ—â–µ –Ω—è–º–∞ –¥–æ–±–∞–≤–µ–Ω–∏ –∫–Ω–∏–≥–∏. –î–æ–±–∞–≤–∏ –ø—ä—Ä–≤–∞—Ç–∞ —Å–∏ –∫–Ω–∏–≥–∞ –æ—Ç–≥–æ—Ä–µ! üìñ
            </div>
        </div>

        <!-- Completed books list -->
        <div class="tab-content books-section" id="completed-books" style="display: none;">
            <h2>–ó–∞–≤—ä—Ä—à–µ–Ω–∏ –∫–Ω–∏–≥–∏ <span id="completed-count" class="count-badge"></span></h2>
            
            <!-- Search bar -->
            <div class="search-container">
                <img src="images/ic_search.svg" alt="Search" class="search-icon">
                <input type="text" id="search-completed-input" class="search-input" placeholder="–¢—ä—Ä—Å–∏ –≤ –∑–∞–≤—ä—Ä—à–µ–Ω–∏—Ç–µ –∫–Ω–∏–≥–∏...">
            </div>
            
            <div id="completed-books-list" class="books-list"></div>
            <div id="completed-empty-state" class="empty-state">
                –í—Å–µ –æ—â–µ –Ω—è–º–∞ –∑–∞–≤—ä—Ä—à–µ–Ω–∏ –∫–Ω–∏–≥–∏. üéâ
            </div>
        </div>

        <!-- Statistics tab -->
        <div class="tab-content" id="statistics" style="display: none;">
            <div class="statistics-container">
                <h2>ÔøΩ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏</h2>
                                <!-- Export/Import section -->
                <div class="export-import-section">
                    <h3>üíæ –ï–∫—Å–ø–æ—Ä—Ç –∏ –ò–º–ø–æ—Ä—Ç –Ω–∞ –¥–∞–Ω–Ω–∏</h3>
                    <div class="export-import-buttons">
                        <button class="btn btn-primary" id="export-data-btn">üì• –ò–∑—Ç–µ–≥–ª–∏ –¥–∞–Ω–Ω–∏ (JSON)</button>
                        <label for="import-data-file" class="btn btn-success">üì§ –ò–º–ø–æ—Ä—Ç–∏—Ä–∞–π –¥–∞–Ω–Ω–∏</label>
                        <input type="file" id="import-data-file" accept=".json" style="display: none;">
                    </div>
                </div>
                                <div class="stats-overview">
                    <div class="stat-box">
                        <div class="stat-number" id="stat-total-books">0</div>
                        <div class="stat-label">–û–±—â–æ –∫–Ω–∏–≥–∏</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="stat-completed-books">0</div>
                        <div class="stat-label">–ó–∞–≤—ä—Ä—à–µ–Ω–∏</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="stat-total-pages">2031</div>
                        <div class="stat-label">–°—Ç—Ä–∞–Ω–∏—Ü–∏</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number" id="stat-total-audio">33—á</div>
                        <div class="stat-label">–ê—É–¥–∏–æ –≤—Ä–µ–º–µ</div>
                    </div>
                </div>

                <div class="streak-display">
                    <div class="streak-item">
                        <span class="streak-emoji">üî•</span>
                        <span class="streak-value" id="stat-current-streak">0</span>
                        <span class="streak-text">–¥–Ω–∏ —Å–µ—Ä–∏—è</span>
                    </div>
                </div>

                <!-- Charts section -->
                <div class="charts-section">
                    <h3>üìà –ê–Ω–∞–ª–∏–∑ –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å–∞</h3>
                    <div class="chart-container">
                        <canvas id="progress-chart"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="category-chart"></canvas>
                    </div>
                </div>
            </div>
        </div>

        <!-- Activity Feed tab -->
        <div class="tab-content" id="activity" style="display: none;">
            <div class="activity-container">
                <h2>üîî –ü–æ—Å–ª–µ–¥–Ω–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç</h2>
                <div id="activity-list" class="activity-list">
                    <div class="empty-state">–í—Å–µ –æ—â–µ –Ω—è–º–∞ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç</div>
                </div>
            </div>
        </div>

        <!-- Achievements tab -->
        <div class="tab-content" id="achievements" style="display: none;">
            <div class="achievements-container">
                <h2>üèÜ –ü–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
                <div id="achievements-grid" class="achievements-grid">
                    <!-- Achievements will be rendered here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for adding progress log -->
    <div id="log-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–î–æ–±–∞–≤–∏ –ø—Ä–æ–≥—Ä–µ—Å</h2>
            <form id="log-form">
                <input type="hidden" id="log-book-id">
                
                <div class="form-group">
                    <label for="log-date">–î–∞—Ç–∞:</label>
                    <input type="date" id="log-date" required>
                </div>

                <div id="log-paper-field" class="form-group">
                    <label for="log-pages">–ü—Ä–æ—á–µ—Ç–µ–Ω–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∏:</label>
                    <input type="number" id="log-pages" min="1">
                </div>

                <div id="log-audio-field" class="form-group" style="display: none;">
                    <label>–í—Ä–µ–º–µ –Ω–∞ —Å–ª—É—à–∞–Ω–µ:</label>
                    <div class="duration-group">
                        <input type="number" id="log-hours" min="0" placeholder="–ß–∞—Å–æ–≤–µ" value="0">
                        <span>:</span>
                        <input type="number" id="log-minutes" min="0" max="59" placeholder="–ú–∏–Ω—É—Ç–∏" value="0">
                    </div>
                </div>

                <div class="modal-buttons">
                    <button type="submit" class="btn btn-primary">–î–æ–±–∞–≤–∏</button>
                    <button type="button" class="btn btn-secondary" id="cancel-log">–û—Ç–∫–∞–∑</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal for viewing logs -->
    <div id="logs-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="logs-modal-title">–ò—Å—Ç–æ—Ä–∏—è –Ω–∞ –ø—Ä–æ–≥—Ä–µ—Å–∞</h2>
            <div id="logs-list" class="logs-list"></div>
        </div>
    </div>

    <!-- Modal for changing category -->
    <div id="category-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–ü—Ä–æ–º—è–Ω–∞ –Ω–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏—è</h2>
            <p>–ö–Ω–∏–≥–∞: <strong id="category-book-name"></strong></p>
            <input type="hidden" id="category-book-id">
            
            <div class="form-group">
                <label>–ò–∑–±–µ—Ä–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                <div class="radio-group">
                    <label>
                        <input type="radio" name="change-category" value="mama">
                        –£–≥–æ–≤–æ—Ä–∫–∞ —Å –ú–∞–º–∞
                    </label>
                    <label>
                        <input type="radio" name="change-category" value="yavor">
                        –£–≥–æ–≤–æ—Ä–∫–∞ —Å –Ø–≤–æ—Ä
                    </label>
                </div>
            </div>

            <div class="modal-buttons">
                <button type="button" class="btn btn-primary" id="save-category">–ó–∞–ø–∞–∑–∏</button>
                <button type="button" class="btn btn-secondary" id="cancel-category">–û—Ç–∫–∞–∑</button>
            </div>
        </div>
    </div>

    <!-- Modal for editing book -->
    <div id="edit-modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>–†–µ–¥–∞–∫—Ç–∏—Ä–∞–π –∫–Ω–∏–≥–∞</h2>
            <form id="edit-book-form">
                <input type="hidden" id="edit-book-id">
                
                <div class="form-group">
                    <label for="edit-book-name">–ò–º–µ –Ω–∞ –∫–Ω–∏–≥–∞:</label>
                    <input type="text" id="edit-book-name" required>
                </div>

                <div class="form-group">
                    <label for="edit-book-author">–ê–≤—Ç–æ—Ä:</label>
                    <input type="text" id="edit-book-author" required>
                </div>

                <div class="form-group">
                    <label>–ö–∞—Ç–µ–≥–æ—Ä–∏—è:</label>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="edit-book-category" value="mama">
                            –£–≥–æ–≤–æ—Ä–∫–∞ —Å –ú–∞–º–∞
                        </label>
                        <label>
                            <input type="radio" name="edit-book-category" value="yavor">
                            –£–≥–æ–≤–æ—Ä–∫–∞ —Å –Ø–≤–æ—Ä
                        </label>
                        <label>
                            <input type="radio" name="edit-book-category" value="choice">
                            –ü–æ –∂–µ–ª–∞–Ω–∏–µ
                        </label>
                    </div>
                </div>

                <div class="form-group">
                    <label>–¢–∏–ø:</label>
                    <div class="radio-group">
                        <label>
                            <input type="radio" name="edit-book-type" value="paper">
                            –•–∞—Ä—Ç–∏–µ–Ω–∞ –∫–Ω–∏–≥–∞
                        </label>
                        <label>
                            <input type="radio" name="edit-book-type" value="audio">
                            –ê—É–¥–∏–æ –∫–Ω–∏–≥–∞
                        </label>
                    </div>
                </div>

                <div id="edit-paper-fields" class="type-fields">
                    <div class="form-group">
                        <label for="edit-total-pages">–ë—Ä–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–∏:</label>
                        <input type="number" id="edit-total-pages" min="1">
                    </div>
                </div>

                <div id="edit-audio-fields" class="type-fields" style="display: none;">
                    <div class="form-group">
                        <label>–ü—Ä–æ–¥—ä–ª–∂–∏—Ç–µ–ª–Ω–æ—Å—Ç:</label>
                        <div class="duration-group">
                            <input type="number" id="edit-total-hours" min="0" placeholder="–ß–∞—Å–æ–≤–µ" value="0">
                            <span>:</span>
                            <input type="number" id="edit-total-minutes" min="0" max="59" placeholder="–ú–∏–Ω—É—Ç–∏" value="0">
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label for="edit-book-cover">URL –Ω–∞ –æ–±–ª–æ–∂–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª–Ω–æ):</label>
                    <input type="url" id="edit-book-cover" placeholder="https://example.com/image.jpg">
                    <div id="edit-cover-preview" class="cover-preview"></div>
                </div>

                <div class="modal-buttons">
                    <button type="submit" class="btn btn-primary">–ó–∞–ø–∞–∑–∏ –ø—Ä–æ–º–µ–Ω–∏—Ç–µ</button>
                    <button type="button" class="btn btn-secondary" id="cancel-edit">–û—Ç–∫–∞–∑</button>
                </div>
            </form>
        </div>
    </div>



    <script src="app.js"></script>
</body>
</html>
